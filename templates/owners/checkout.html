{% extends "layout/base.html" %}
{% block title %}Confirm Payment{% endblock %}

{% block content %}
<style>
    .summary-row {
        display: flex; 
        justify-content: space-between; 
        margin-bottom: 15px; 
        border-bottom: 1px dashed #e2e8f0; 
        padding-bottom: 10px;
    }
    .summary-row span {
        color: #64748b; 
        font-size: 14px;
    }
    .summary-row strong {
        color: #1e293b;
    }
</style>

<div class="page-header" style="margin-bottom: 35px;">
    <h1>üí≥ Secure Payment</h1>
    <p style="color: #64748b;">Confirm your maintenance payment details below.</p>
</div>

<div class="card" style="background: white; border-radius: 24px; padding: 45px; box-shadow: 0 15px 35px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; border-top: 8px solid #4e46e5;">
    
    <!-- Branding / Header -->
    <div style="text-align: center; margin-bottom: 35px;">
        <span style="font-size: 50px;">üè¶</span>
        <h2 style="margin: 15px 0 5px 0; color: #1e293b;">Society Bill Summary</h2>
        <p style="color: #94a3b8; font-size: 14px;">Transaction ID: #MNT-{{ bill.id }}</p>
    </div>

    <!-- MAIN SUMMARY SECTION -->
    <div style="background: #f8fafc; border-radius: 16px; padding: 25px; margin-bottom: 30px;">
        
        <!-- Property Detail -->
        <div class="summary-row">
            <span>Property:</span>
            <strong>{{ bill.flat_number }} ({{ bill.block_name }})</strong>
        </div>

        <!-- Billing Period Detail -->
        <div class="summary-row">
            <span>Billing Period:</span>
            <strong>{{ bill.month }} {{ bill.year }}</strong>
        </div>

        <!-- Due Date Detail -->
        <div class="summary-row">
            <span>Due Date:</span>
            <strong style="color: #4e46e5;">{{ bill.due_date }}</strong>
        </div>

        <!-- Total Payable Detail -->
        <div style="display: flex; justify-content: space-between; margin-top: 20px;">
            <span style="color: #1e293b; font-weight: 700;">Total Payable:</span>
            <strong style="color: #10b981; font-size: 24px;">‚Çπ{{ "{:,.2f}".format(bill.amount) }}</strong>
        </div>
    </div>

    <!-- PAYMENT FORM -->
    <form action="{{ url_for('owners.pay_bill', maintenance_id=bill.id) }}" method="POST">
        <button type="submit" style="width: 100%; background: #4e46e5; color: white; border: none; padding: 16px; border-radius: 14px; font-weight: 700; font-size: 16px; cursor: pointer; box-shadow: 0 4px 15px rgba(79, 70, 229, 0.3); transition: 0.2s;">
            ‚úÖ Confirm & Pay Now
        </button>
        
        <a href="javascript:history.back()" style="display: block; text-align: center; margin-top: 20px; color: #94a3b8; text-decoration: none; font-size: 14px; font-weight: 500;">
            Cancel and Return
        </a>
    </form>
</div>
{% endblock %}